<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åˆ·</title>

  <meta name="robots" content="noindex, nofollow" /><!--ç•¥éæœå°‹-->
  <meta name="format-detection" content="telephone=no" /><!--ç•¥éæ’¥è™Ÿ-->

  <link rel="apple-touch-icon" href="icon.png">
  <link rel="icon" href="icon.png">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- <meta name="apple-mobile-web-app-title" content="ä¿¡ç”¨å¡å„ªæƒ "> -->

  <link rel="stylesheet" href="style.css">
</head>


<body>

  <div class="search-container">
    <input type="text" id="searchInput" placeholder="æœå°‹é€šè·¯ (ä¾‹: 7-11, ç¶²è³¼)..." autocomplete="off">

    <div class="quick-tags" id="quickTags">
      <button class="tag-btn" onclick="setSearch('Line Pay')">Line Pay</button>
      <button class="tag-btn" onclick="setSearch('Apple Pay')">Apple Pay</button>
      <button class="tag-btn" onclick="setSearch('ç¶²è³¼')">ç¶²è³¼</button>
      <button class="tag-btn" onclick="setSearch('è¶…å•†')">è¶…å•†</button>
      <button class="tag-btn" onclick="setSearch('æ—¥æœ¬')">æ—¥æœ¬</button>
      <button class="tag-btn" onclick="setSearch('åŠ æ²¹')">åŠ æ²¹</button>
    </div>
  </div>

  <div id="cardList" class="card-list">
  </div>
  <div id="noResult" class="no-result">æ²’æœ‰æ‰¾åˆ°ç¬¦åˆçš„å¡ç‰‡Q_Q</div>

  <script>
    // ==========================================
    //  ã€è³‡æ–™è¨­å®šå€ã€‘ è«‹åœ¨é€™è£¡ä¿®æ”¹ä½ è‡ªå·±çš„å¡ç‰‡
    // ==========================================
    const myCards = [
      {
        name: "å¯Œé‚¦ J å¡",
        rate: "3%",
        tags: "æ—¥æœ¬, éŸ“åœ‹, Line Pay, å¯¦é«”åº—é¢",
        note: "æ—¥éŸ“å¯¦é«”åº—é©ç”¨ï¼Œåœ‹å…§ Line Pay éœ€ç™»éŒ„"
      },
      {
        name: "åœ‹æ³° CUBE (ç©æ•¸ä½)",
        rate: "3%",
        tags: "ç¶²è³¼, è¦çš®, momo, PChome, ä¸²æµå½±éŸ³",
        note: "è¨˜å¾—åˆ‡æ›åˆ°ã€ç©æ•¸ä½ã€æ¬Šç›Š"
      },
      {
        name: "åœ‹æ³° CUBE (æ¨‚é¥—è³¼)",
        rate: "3%",
        tags: "é¤å»³, å¤–é€, Uber Eats, Foodpanda, ç™¾è²¨, SOGO",
        note: "è¨˜å¾—åˆ‡æ›åˆ°ã€æ¨‚é¥—è³¼ã€æ¬Šç›Š"
      },
      {
        name: "å°æ–° @GoGo",
        rate: "3.8%",
        tags: "Line Pay, å…¨æ”¯ä»˜, ç¶²è³¼, è¦çš®, momo",
        note: "ä¸Šé™ 1000 é»ï¼Œå¸³å–®éœ€æ»¿ 5000"
      },
      {
        name: "è¯é‚¦å‰é¶´å¡",
        rate: "4.5%",
        tags: "æ—¥æœ¬, Apple Pay, QUICPay",
        note: "æ—¥æœ¬ Apple Pay å°ˆç”¨ï¼Œåœ‹å…§ 1%"
      },
      {
        name: "é€šç”¨å‚™ç”¨å¡ (ç„¡è…¦åˆ·)",
        rate: "1%",
        tags: "ä¸€èˆ¬æ¶ˆè²», ä¿è²», ç¹³ç¨…, é†«é™¢",
        note: "ç•¶å…¶ä»–å¡éƒ½ä¸é©ç”¨æ™‚åˆ·é€™å¼µ"
      }
    ];
    // ==========================================


    // --- ç¨‹å¼é‚è¼¯å€ (ä¸éœ€è¦ä¿®æ”¹) ---

    const cardListEl = document.getElementById('cardList');
    const searchInput = document.getElementById('searchInput');
    const noResultEl = document.getElementById('noResult');

    // æ¸²æŸ“å¡ç‰‡å‡½æ•¸
    function renderCards (filterText = '') {
      cardListEl.innerHTML = '';

      // æœå°‹é‚è¼¯ï¼šæ¯”å°åç¨±æˆ–æ¨™ç±¤
      const filtered = myCards.filter(card => {
        const text = (card.name + card.tags + card.note).toLowerCase();
        return text.includes(filterText.toLowerCase());
      });

      if (filtered.length === 0) {
        noResultEl.style.display = 'block';
      } else {
        noResultEl.style.display = 'none';

        // ä¾ç…§å›é¥‹ç‡æ’åº (ç°¡å–®å°‡æ•¸å­—å¤§è€…æ’å‰)
        filtered.sort((a, b) => parseFloat(b.rate) - parseFloat(a.rate));

        filtered.forEach(card => {
          const html = `
                        <div class="credit-card">
                            <div class="card-header">
                                <h3 class="card-name">${card.name}</h3>
                                <div class="rate-badge">${card.rate}</div>
                            </div>
                            <div class="card-tags">
                                <span class="highlight-tag">é©ç”¨ï¼š</span>${highlightText(card.tags, filterText)}
                            </div>
                            <div class="card-note">
                                ğŸ’¡ ${card.note}
                            </div>
                        </div>
                    `;
          cardListEl.innerHTML += html;
        });
      }
    }

    // é—œéµå­—é«˜äº®åŠŸèƒ½
    function highlightText (text, keyword) {
      if (!keyword) return text;
      const regex = new RegExp(`(${keyword})`, 'gi');
      return text.replace(regex, '<span style="background:yellow; color:black;">$1</span>');
    }

    // é»æ“Šå¿«é€Ÿæ¨™ç±¤
    function setSearch (keyword) {
      searchInput.value = keyword;
      renderCards(keyword);

      // æŒ‰éˆ•è®Šè‰²æ•ˆæœ
      document.querySelectorAll('.tag-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }

    // ç›£è½è¼¸å…¥æ¡†
    searchInput.addEventListener('input', (e) => {
      renderCards(e.target.value);
      // æ¸…é™¤æŒ‰éˆ•é¸å–ç‹€æ…‹
      document.querySelectorAll('.tag-btn').forEach(btn => btn.classList.remove('active'));
    });

    // åˆå§‹æ¸²æŸ“
    renderCards();

  </script>
</body>

</html>